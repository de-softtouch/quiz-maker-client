{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\create_grade_quizzes\\\\src\\\\components\\\\edit_quiz\\\\EditQuestionDialog.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Box, Button, Center, Checkbox, Container, HStack, Input, Select, Text, Textarea, usePrevious, VStack } from \"@chakra-ui/react\";\nimport { useToast } from \"@chakra-ui/react\";\nimport { MdArrowDropDown } from \"react-icons/all\";\nimport { useQuiz } from \"../../context/QuizProvider\";\nimport { useCreateQuiz } from \"../../context/CreateQuizProvider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditQuestionDialog = ({\n  setVisible\n}) => {\n  _s();\n\n  const toast = useToast();\n  const {\n    createdQuiz,\n    setCreatedQuiz\n  } = useCreateQuiz();\n\n  const randomUID = () => {\n    return Math.floor((2 + Math.random()) * 0x100000000).toString(16).substring(1);\n  };\n\n  const [question, setQuestion] = useState({\n    title: \"this is question title\",\n    options: [{\n      content: \"this is option 1\"\n    }, {\n      content: \"\"\n    }, {\n      content: \"\"\n    }, {\n      content: \"\"\n    }]\n  }); //on title change\n\n  const onQuizTitleChange = e => {\n    setQuestion(prevState => ({ ...prevState,\n      title: e.target.value\n    }));\n  }; //on option in put change\n\n\n  const onOptionChange = (e, i) => {\n    setQuestion(prevState => ({ ...prevState,\n      options: prevState.options.map((savedOption, index) => {\n        if (i === index) {\n          return { ...prevState.options[i],\n            content: e.target.value\n          };\n        }\n\n        return savedOption;\n      })\n    }));\n  }; //add new option\n\n\n  const onAddOption = () => {\n    setQuestion(prevState => ({ ...prevState,\n      title: prevState.title,\n      options: [...prevState.options, {\n        content: \"\"\n      }]\n    }));\n  };\n\n  const onCheckBoxChange = (e, i) => {\n    setQuestion(prevState => ({ ...prevState,\n      options: prevState.options.map((savedOption, index) => {\n        if (i === index) {\n          return { ...prevState.options[i],\n            isChecked: e.target.checked\n          };\n        }\n\n        return savedOption;\n      })\n    }));\n  };\n\n  function onScoreChange(e, i) {\n    setQuestion(prevState => ({ ...prevState,\n      options: prevState.options.map((savedOption, index) => {\n        if (i === index) {\n          return { ...prevState.options[i],\n            score: e.target.value\n          };\n        }\n\n        return savedOption;\n      })\n    }));\n  }\n\n  const handleBtnSaveClicked = () => {\n    // setQuestion(prevState => ({\n    //     ...prevState,\n    //     options: prevState.options.filter(item => item.content.length > 0),\n    // }))\n    let score = 0;\n    question.options.forEach(item => {\n      if (item.score != null) {\n        score += item.score;\n      }\n    });\n\n    if (score === 0) {\n      toast({\n        title: \"Please select at least 1 true option and option's score\",\n        status: \"error\",\n        isClosable: true,\n        duration: 1500,\n        position: \"bottom-left\"\n      });\n      return;\n    }\n\n    if (score > 0) {\n      setVisible(false); // setSavedQuestions((prev) => [\n      //     ...prev,\n      //     {\n      //         ...question,\n      //         options: question.options.filter(\n      //             (item) => item.content.length > 0\n      //         ),\n      //     },\n      // ]);\n\n      setCreatedQuiz(prevState => ({ ...prevState,\n        questions: [...prevState.questions, { ...question,\n          options: question.options.filter(item => item.content.length > 0)\n        }]\n      }));\n    } else {\n      setVisible(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      onClick: () => {\n        console.log(\"HAHHAHA\");\n      },\n      position: \"fixed\" // zIndex={1}\n      ,\n      top: 0,\n      bg: \"gray.300\",\n      align: \"center\",\n      alignItems: \"center\",\n      opacity: 0.4,\n      justifyContent: \"center\",\n      width: \"100vw\",\n      height: \"100vh\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      boxShadow: \"md\",\n      borderRadius: \"md\",\n      position: \"fixed\",\n      zIndex: 899,\n      top: \"50%\",\n      right: \"50%\",\n      transform: \"translate(50%,-50%)\",\n      minW: \"700px\",\n      bg: \"white\",\n      maxW: \"700px\",\n      children: /*#__PURE__*/_jsxDEV(VStack, {\n        children: [/*#__PURE__*/_jsxDEV(HStack, {\n          bg: \"gray.700\",\n          p: 5,\n          w: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            color: \"white\",\n            fontWeight: \"medium\",\n            children: [\"Question \", createdQuiz.questions.length + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          p: 2,\n          w: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(Textarea, {\n            onChange: e => onQuizTitleChange(e),\n            value: question.title,\n            css: {\n              \"&::-webkit-scrollbar\": {\n                width: \"0px\",\n                background: \"transparent\"\n              }\n            },\n            resize: \"none\",\n            overflow: \"hidden\",\n            placeholder: \"Type your question here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(VStack, {\n          p: 4,\n          spacing: 4,\n          w: \"100%\",\n          children: question.options.map((item, i) => /*#__PURE__*/_jsxDEV(HStack, {\n            w: \"100%\",\n            children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n              onChange: e => onCheckBoxChange(e, i)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              value: question.options[i].content,\n              onChange: e => onOptionChange(e, i),\n              wordBreak: \"break-all\",\n              wordwrap: \"break-word\" // isFullWidth\n              ,\n              size: \"md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              bg: \"teal\",\n              color: \"gray.800\",\n              onChange: e => onScoreChange(e, i),\n              isDisabled: item.isChecked == null || item.isChecked === false,\n              defaultValue: 0,\n              icon: /*#__PURE__*/_jsxDEV(MdArrowDropDown, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 43\n              }, this),\n              iconSize: 0,\n              maxW: 70,\n              size: \"xs\",\n              variant: \"outline\",\n              children: [0, 0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2].map((score, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: score,\n                children: score\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 33\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          align: \"start\",\n          p: 2,\n          w: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onAddOption,\n            size: \"sm\",\n            variant: \"outline\",\n            alignSelf: \"start\",\n            colorScheme: \"teal\",\n            children: \"Add answer option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          w: \"100%\",\n          children: /*#__PURE__*/_jsxDEV(HStack, {\n            p: 2,\n            bg: \"gray.700\",\n            justifyContent: \"end\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                setVisible(false);\n              },\n              size: \"sm\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleBtnSaveClicked,\n              size: \"sm\",\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EditQuestionDialog, \"gCHZrleI6vKrNx/94iyGk9tcmJk=\", false, function () {\n  return [useToast, useCreateQuiz];\n});\n\n_c = EditQuestionDialog;\nexport default EditQuestionDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditQuestionDialog\");","map":{"version":3,"sources":["C:/Users/Admin/create_grade_quizzes/src/components/edit_quiz/EditQuestionDialog.js"],"names":["React","useState","Box","Button","Center","Checkbox","Container","HStack","Input","Select","Text","Textarea","usePrevious","VStack","useToast","MdArrowDropDown","useQuiz","useCreateQuiz","EditQuestionDialog","setVisible","toast","createdQuiz","setCreatedQuiz","randomUID","Math","floor","random","toString","substring","question","setQuestion","title","options","content","onQuizTitleChange","e","prevState","target","value","onOptionChange","i","map","savedOption","index","onAddOption","onCheckBoxChange","isChecked","checked","onScoreChange","score","handleBtnSaveClicked","forEach","item","status","isClosable","duration","position","questions","filter","length","console","log","width","background"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n    Box,\r\n    Button,\r\n    Center,\r\n    Checkbox,\r\n    Container,\r\n    HStack,\r\n    Input,\r\n    Select,\r\n    Text,\r\n    Textarea,\r\n    usePrevious,\r\n    VStack,\r\n} from \"@chakra-ui/react\";\r\nimport { useToast } from \"@chakra-ui/react\";\r\nimport { MdArrowDropDown } from \"react-icons/all\";\r\nimport { useQuiz } from \"../../context/QuizProvider\";\r\nimport { useCreateQuiz } from \"../../context/CreateQuizProvider\";\r\n\r\nconst EditQuestionDialog = ({ setVisible }) => {\r\n    const toast = useToast();\r\n    const { createdQuiz, setCreatedQuiz } = useCreateQuiz();\r\n    const randomUID = () => {\r\n        return Math.floor((2 + Math.random()) * 0x100000000)\r\n            .toString(16)\r\n            .substring(1);\r\n    };\r\n    const [question, setQuestion] = useState({\r\n        title: \"this is question title\",\r\n        options: [\r\n            {\r\n                content: \"this is option 1\",\r\n            },\r\n            {\r\n                content: \"\",\r\n            },\r\n            {\r\n                content: \"\",\r\n            },\r\n            {\r\n                content: \"\",\r\n            },\r\n        ],\r\n    });\r\n\r\n    //on title change\r\n    const onQuizTitleChange = (e) => {\r\n        setQuestion((prevState) => ({\r\n            ...prevState,\r\n            title: e.target.value,\r\n        }));\r\n    };\r\n\r\n    //on option in put change\r\n    const onOptionChange = (e, i) => {\r\n        setQuestion((prevState) => ({\r\n            ...prevState,\r\n            options: prevState.options.map((savedOption, index) => {\r\n                if (i === index) {\r\n                    return { ...prevState.options[i], content: e.target.value };\r\n                }\r\n                return savedOption;\r\n            }),\r\n        }));\r\n    };\r\n\r\n    //add new option\r\n    const onAddOption = () => {\r\n        setQuestion((prevState) => ({\r\n            ...prevState,\r\n            title: prevState.title,\r\n            options: [...prevState.options, { content: \"\" }],\r\n        }));\r\n    };\r\n\r\n    const onCheckBoxChange = (e, i) => {\r\n        setQuestion((prevState) => ({\r\n            ...prevState,\r\n            options: prevState.options.map((savedOption, index) => {\r\n                if (i === index) {\r\n                    return {\r\n                        ...prevState.options[i],\r\n                        isChecked: e.target.checked,\r\n                    };\r\n                }\r\n                return savedOption;\r\n            }),\r\n        }));\r\n    };\r\n\r\n    function onScoreChange(e, i) {\r\n        setQuestion((prevState) => ({\r\n            ...prevState,\r\n            options: prevState.options.map((savedOption, index) => {\r\n                if (i === index) {\r\n                    return {\r\n                        ...prevState.options[i],\r\n                        score: e.target.value,\r\n                    };\r\n                }\r\n                return savedOption;\r\n            }),\r\n        }));\r\n    }\r\n\r\n    const handleBtnSaveClicked = () => {\r\n        // setQuestion(prevState => ({\r\n        //     ...prevState,\r\n        //     options: prevState.options.filter(item => item.content.length > 0),\r\n        // }))\r\n\r\n        let score = 0;\r\n        question.options.forEach((item) => {\r\n            if (item.score != null) {\r\n                score += item.score;\r\n            }\r\n        });\r\n        if (score === 0) {\r\n            toast({\r\n                title: \"Please select at least 1 true option and option's score\",\r\n                status: \"error\",\r\n                isClosable: true,\r\n                duration: 1500,\r\n                position: \"bottom-left\",\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (score > 0) {\r\n            setVisible(false);\r\n            // setSavedQuestions((prev) => [\r\n            //     ...prev,\r\n            //     {\r\n            //         ...question,\r\n            //         options: question.options.filter(\r\n            //             (item) => item.content.length > 0\r\n            //         ),\r\n            //     },\r\n            // ]);\r\n            setCreatedQuiz((prevState) => ({\r\n                ...prevState,\r\n                questions: [\r\n                    ...prevState.questions,\r\n                    {\r\n                        ...question,\r\n                        options: question.options.filter(\r\n                            (item) => item.content.length > 0\r\n                        ),\r\n                    },\r\n                ],\r\n            }));\r\n        } else {\r\n            setVisible(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Box\r\n                onClick={() => {\r\n                    console.log(\"HAHHAHA\");\r\n                }}\r\n                position={\"fixed\"}\r\n                // zIndex={1}\r\n                top={0}\r\n                bg={\"gray.300\"}\r\n                align={\"center\"}\r\n                alignItems={\"center\"}\r\n                opacity={0.4}\r\n                justifyContent={\"center\"}\r\n                width={\"100vw\"}\r\n                height={\"100vh\"}\r\n            />\r\n\r\n            <Box\r\n                boxShadow={\"md\"}\r\n                borderRadius={\"md\"}\r\n                position={\"fixed\"}\r\n                zIndex={899}\r\n                top={\"50%\"}\r\n                right={\"50%\"}\r\n                transform={\"translate(50%,-50%)\"}\r\n                minW={\"700px\"}\r\n                bg={\"white\"}\r\n                maxW={\"700px\"}\r\n            >\r\n                <VStack>\r\n                    <HStack bg={\"gray.700\"} p={5} w={\"100%\"}>\r\n                        <Text color={\"white\"} fontWeight={\"medium\"}>\r\n                            Question {createdQuiz.questions.length + 1}\r\n                        </Text>\r\n                    </HStack>\r\n                    {/*QUESTION TITLE*/}\r\n                    <Box p={2} w={\"100%\"}>\r\n                        <Textarea\r\n                            onChange={(e) => onQuizTitleChange(e)}\r\n                            value={question.title}\r\n                            css={{\r\n                                \"&::-webkit-scrollbar\": {\r\n                                    width: \"0px\",\r\n                                    background: \"transparent\",\r\n                                },\r\n                            }}\r\n                            resize={\"none\"}\r\n                            overflow={\"hidden\"}\r\n                            placeholder={\"Type your question here\"}\r\n                        />\r\n                    </Box>\r\n                    <VStack p={4} spacing={4} w={\"100%\"}>\r\n                        {/* {question.options.map((item, i) => ( */}\r\n                        {question.options.map((item, i) => (\r\n                            <HStack key={i} w={\"100%\"}>\r\n                                <Checkbox\r\n                                    onChange={(e) => onCheckBoxChange(e, i)}\r\n                                />\r\n                                <Input\r\n                                    value={question.options[i].content}\r\n                                    onChange={(e) => onOptionChange(e, i)}\r\n                                    wordBreak={\"break-all\"}\r\n                                    wordwrap={\"break-word\"}\r\n                                    // isFullWidth\r\n                                    size={\"md\"}\r\n                                />\r\n                                <Select\r\n                                    bg={\"teal\"}\r\n                                    color={\"gray.800\"}\r\n                                    onChange={(e) => onScoreChange(e, i)}\r\n                                    isDisabled={\r\n                                        item.isChecked == null ||\r\n                                        item.isChecked === false\r\n                                    }\r\n                                    defaultValue={0}\r\n                                    icon={<MdArrowDropDown />}\r\n                                    iconSize={0}\r\n                                    maxW={70}\r\n                                    size=\"xs\"\r\n                                    variant=\"outline\"\r\n                                >\r\n                                    {[\r\n                                        0, 0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75,\r\n                                        2,\r\n                                    ].map((score, index) => (\r\n                                        <option key={index} value={score}>\r\n                                            {score}\r\n                                        </option>\r\n                                    ))}\r\n                                </Select>\r\n                            </HStack>\r\n                        ))}\r\n                    </VStack>\r\n                    {/*BUTTON ADD ANSWER*/}\r\n                    <Box align={\"start\"} p={2} w={\"100%\"}>\r\n                        <Button\r\n                            onClick={onAddOption}\r\n                            size={\"sm\"}\r\n                            variant={\"outline\"}\r\n                            alignSelf={\"start\"}\r\n                            colorScheme={\"teal\"}\r\n                        >\r\n                            Add answer option\r\n                        </Button>\r\n                    </Box>\r\n                    {/*BUTTON SAVE*/}\r\n                    <Box w={\"100%\"}>\r\n                        <HStack p={2} bg={\"gray.700\"} justifyContent={\"end\"}>\r\n                            <Button\r\n                                onClick={() => {\r\n                                    setVisible(false);\r\n                                }}\r\n                                size={\"sm\"}\r\n                            >\r\n                                Cancel\r\n                            </Button>\r\n                            <Button onClick={handleBtnSaveClicked} size={\"sm\"}>\r\n                                Save\r\n                            </Button>\r\n                        </HStack>\r\n                    </Box>\r\n                </VStack>\r\n            </Box>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditQuestionDialog;\r\n"]},"metadata":{},"sourceType":"module"}